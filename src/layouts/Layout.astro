---
import '../styles/global.css';

const { title = 'Meraki 췅 Pedagog칤a' } = Astro.props;
---

<!doctype html>
<html lang="es">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1"
    />
    <title>{title}</title>
    <meta
      name="description"
      content="Glosario y libro interactivo colaborativo de psicopedagog칤a."
    />
  </head>
  <body class="min-h-screen bg-meraki-cream">
    <!-- NAVBAR PRINCIPAL UNIFICADO -->
    <header
      class="sticky top-0 z-40 border-b border-slate-200/60 bg-[#fff7ef]/80 backdrop-blur"
    >
      <nav
        class="mx-auto flex max-w-6xl items-center justify-between px-4 py-3 lg:px-6"
      >
        <!-- Logo / Nombre -->
        <a href="#hero" class="flex items-center gap-2">
          <div
            class="flex h-9 w-9 items-center justify-center rounded-full bg-meraki-pink shadow-md"
          >
            <span class="text-xl font-display text-white">M</span>
          </div>
          <div class="leading-tight">
            <p
              class="font-display text-xs uppercase tracking-[0.25em] text-slate-500"
            >
              Meraki
            </p>
            <p class="font-display text-sm font-semibold text-slate-800">
              Psicopedagog칤a Interactiva
            </p>
          </div>
        </a>

        <!-- Navbar flotante rosa (SIEMPRE visible, se adapta) -->
        <div class="meraki-fab">
          <button
            class="meraki-fab-item"
            data-label="Inicio"
            onclick="window.location.hash = '#hero'"
          >
            <span class="meraki-fab-icon">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="1em"
                height="1em"
                viewBox="0 0 1024 1024"
                stroke-width="0"
                fill="currentColor"
                stroke="currentColor"
              >
                <path
                  d="M946.5 505L560.1 118.8l-25.9-25.9a31.5 31.5 0 0 0-44.4 0L77.5 505a63.9 63.9 0 0 0-18.8 46c.4 35.2 29.7 63.3 64.9 63.3h42.5V940h691.8V614.3h43.4c17.1 0 33.2-6.7 45.3-18.8a63.6 63.6 0 0 0 18.7-45.3c0-17-6.7-33.1-18.8-45.2zM568 868H456V664h112v204zm217.9-325.7V868H632V640c0-22.1-17.9-40-40-40H432c-22.1 0-40 17.9-40 40v228H238.1V542.3h-96l370-369.7 23.1 23.1L882 542.3h-96.1z"
                />
              </svg>
            </span>
          </button>

          <button
            class="meraki-fab-item"
            data-label="Glosario"
            onclick="window.location.hash = '#info'"
          >
            <span class="meraki-fab-icon">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="1em"
                height="1em"
                aria-hidden="true"
                viewBox="0 0 24 24"
                stroke-width="2"
                fill="none"
                stroke="currentColor"
              >
                <path
                  d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
                  stroke-linejoin="round"
                  stroke-linecap="round"
                ></path>
              </svg>
            </span>
          </button>

          <button
            class="meraki-fab-item"
            data-label="Libro"
            onclick="window.location.hash = '#libro'"
          >
            <span class="meraki-fab-icon">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                width="1em"
                height="1em"
                fill="currentColor"
              >
                <path
                  d="M6 2h7a3 3 0 0 1 3 3v1h2a2 2 0 0 1 2 2v10.5A2.5 2.5 0 0 1 17.5 21H6A3 3 0 0 1 3 18V5a3 3 0 0 1 3-3Zm0 2a1 1 0 0 0-1 1v13c0 .552.448 1 1 1h9.5a.5.5 0 0 0 .5-.5V8H13a2 2 0 0 1-2-2V4H6Zm6 0v2a0 0 0 0 0 0 0h3V5a1 1 0 0 0-1-1h-2Z"
                />
              </svg>
            </span>
          </button>

          <button
            class="meraki-fab-item"
            data-label="Colaborar"
            onclick="window.location.hash = '#colabora'"
          >
            <span class="meraki-fab-icon">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="1em"
                height="1em"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  d="M16 11a4 4 0 1 0-4-4 4.003 4.003 0 0 0 4 4Zm-8 0a3 3 0 1 0-3-3 3.003 3.003 0 0 0 3 3Zm0 2c-2.673 0-8 1.337-8 4v1a1 1 0 0 0 2 0v-1c0-1.116 3.459-2 6-2s6 .884 6 2v1a1 1 0 0 0 2 0v-1c0-2.663-5.327-4-8-4Zm8 0c-.39 0-.824.023-1.291.065a1 1 0 0 0 .182 1.988C17.5 15.053 21 16.18 21 17.5v1a1 1 0 0 0 2 0v-1c0-2.508-4.375-4.5-7-4.5Z"
                />
              </svg>
            </span>
          </button>
        </div>
      </nav>
    </header>
    
    <main>
      <slot />
    </main>
    
    <footer class="site-footer mt-20">
      <div class="footer-inner mx-auto max-w-6xl px-4 py-10">
        <section
          id="contacto"
          aria-labelledby="contacto-heading"
          class="footer-grid"
        >
          {/* Columna texto + "chat" */}
          <div class="footer-contact">
            <h2
              id="contacto-heading"
              class="footer-title"
            >
              Cont치ctanos
            </h2>
            <p class="footer-text">
              쯊e gustar칤a colaborar en este manual digital? 
              Escr칤benos y mandanos tu propuesta por correo 
              electr칩nico si tienes alguna duda con el proceso.
            </p>

            <div class="contact-widget">
              <div class="contact-widget-inner">
                <div class="contact-chat">
                  <div class="contact-chat-body">
                    <textarea
                      id="contact-message"
                      placeholder="Escribe aqu칤 tu peque침o correo"
                    ></textarea>
                  </div>
                  <div class="contact-chat-options">
                    <div class="contact-chat-buttons">
                      <button type="button" aria-label="Adjuntar archivo">
                        游늹
                      </button>
                      <button type="button" aria-label="A침adir idea r치pida">
                        游눠
                      </button>
                      <button type="button" aria-label="Emoji">
                        游뗵 
                      </button>
                    </div>
                    <a
                      class="contact-chat-send"
                      href="mailto:merakimultisensorial@gmail.com"
                      target="_blank"
                      rel="noreferrer"
                    >
                      Enviar por correo
                    </a>
                  </div>
                </div>
              </div>
            </div>
          </div>

          {/* Columna info + redes */}
          <div class="footer-side">
            <div class="footer-social-block">
              <p class="footer-label mb-3">Redes</p>
              <ul class="social-list">
                {/* Gmail */}
                <li class="social-item" data-social="gmail">
                  <a
                    href="mailto:merakimultisensorial@gmail.com"
                    aria-label="Gmail"
                  >
                    <span class="social-fill"></span>
                    <svg viewBox="0 0 24 24" aria-hidden="true">
                      <path
                        fill="currentColor"
                        d="M20 4H4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h3v-8.5L12 14l5-2.5V20h3a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Zm-1 4.7L12 13 5 8.7V7l7 4 7-4Z"
                      />
                    </svg>
                  </a>
                  <div class="social-tooltip">Gmail</div>
                </li>
              </ul>
            </div>
          </div>
        </section>

        <div class="footer-copy">
          <p>
            춸 {new Date().getFullYear()} Meraki. Todos los derechos
            reservados.
          </p>
        </div>
      </div>
    </footer>

    <style>
      :root {
        --meraki-bg: #FFF7ED;
        --meraki-hero: #F5E7DC;
        --meraki-blue: #BEE6FF;
        --meraki-green: #BFE8C2;
        --meraki-yellow: #FFE7A5;
        --meraki-pink: #FFB7CE;
        --pastel-azul: #A8D8EA;
        --pastel-amarillo: #FFF3B0;
        --pastel-verde: #C7F0BD;
        --blanco: #FFFFFF;
        --sombra: 0 4px 20px rgba(0, 0, 0, 0.08);
      }

      /* ===========================
         NAVBAR ROSA FLOTANTE UNIFICADO
         =========================== */
      .meraki-fab {
        display: flex;
        align-items: center;
        justify-content: space-between;
        gap: 0.5rem;
        background: linear-gradient(135deg, #ff5fa9, #ff8ad3);
        padding: 0.3rem 0.7rem;
        border-radius: 999px;
        box-shadow: 0 8px 20px rgba(255, 0, 120, 0.3);
      }

      /* En m칩vil: m치s compacto */
      @media (max-width: 1023px) {
        .meraki-fab {
          gap: 0.35rem;
          padding: 0.25rem 0.5rem;
          box-shadow: 0 6px 15px rgba(255, 0, 120, 0.25);
        }
      }

      .meraki-fab-item {
        position: relative;
        outline: 0;
        border: 0;
        background: transparent;
        cursor: pointer;
        border-radius: 999px;
        padding: 0.35rem;
        color: #fff;
        display: flex;
        align-items: center;
        gap: 0.35rem;
        transition: all 0.25s ease;
      }

      @media (max-width: 1023px) {
        .meraki-fab-item {
          padding: 0.25rem;
        }
      }

      .meraki-fab-icon {
        width: 1.75rem;
        height: 1.75rem;
        border-radius: 999px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.1rem;
      }

      @media (max-width: 1023px) {
        .meraki-fab-icon {
          width: 1.5rem;
          height: 1.5rem;
          font-size: 0.95rem;
        }
      }

      /* Labels solo en desktop */
      .meraki-fab-item::after {
        content: attr(data-label);
        white-space: nowrap;
        font-size: 0.7rem;
        font-weight: 600;
        opacity: 0;
        transform: translateX(-6px);
        max-width: 0;
        overflow: hidden;
        transition: all 0.25s ease;
      }

      @media (min-width: 1024px) {
        .meraki-fab-item:hover {
          background: rgba(255, 255, 255, 0.18);
        }

        .meraki-fab-item:hover::after {
          opacity: 1;
          transform: translateX(0);
          max-width: 6rem;
        }
      }

      /* En m칩vil no mostramos labels */
      @media (max-width: 1023px) {
        .meraki-fab-item::after {
          display: none;
        }
      }

      /* ===========================
         FOOTER
         =========================== */
      .site-footer {
        border-top: 1px solid rgba(148, 163, 184, 0.3);
        background: linear-gradient(135deg, var(--meraki-pink), var(--meraki-blue));
        color: #1c1c1c;
      }

      .footer-grid {
        display: grid;
        gap: 2.5rem;
      }

      @media (min-width: 1024px) {
        .footer-grid {
          grid-template-columns: minmax(0, 1.4fr) minmax(0, 1.1fr);
          align-items: flex-start;
        }
      }

      .footer-title {
        font-family: 'Sora', system-ui, -apple-system, BlinkMacSystemFont, 'Inter', sans-serif;
        font-size: 1.25rem;
        font-weight: 600;
        letter-spacing: -0.02em;
        margin-bottom: 0.6rem;
      }

      .footer-text {
        font-size: 0.9rem;
        line-height: 1.7;
        color: #414141;
      }

      .footer-label {
        font-size: 0.75rem;
        letter-spacing: 0.16em;
        text-transform: uppercase;
        color: #1c1c1c;
        font-weight: 600;
      }

      /* ===========================
         CONTACT WIDGET - Colores unificados
         =========================== */
      .contact-widget {
        margin-top: 1.5rem;
      }

      .contact-widget-inner {
        position: relative;
        border-radius: 1.1rem;
        padding: 2px;
        background: linear-gradient(130deg, rgba(255, 95, 169, 0.6), rgba(190, 230, 255, 0.6));
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
      }

      .contact-chat {
        background: linear-gradient(135deg, rgba(255, 183, 206, 0.3), rgba(190, 230, 255, 0.3));
        backdrop-filter: blur(10px);
        border-radius: 1rem;
        padding: 0.85rem;
        display: flex;
        flex-direction: column;
        gap: 0.55rem;
      }

      .contact-chat-body textarea {
        width: 100%;
        height: 70px;
        border-radius: 0.9rem;
        border: 1px solid rgba(148, 163, 184, 0.4);
        background: rgba(255, 255, 255, 0.7);
        color: #333;
        font-size: 0.82rem;
        padding: 0.6rem 0.75rem;
        resize: none;
        outline: none;
        transition: border-color 0.2s ease, background 0.2s ease;
      }

      .contact-chat-body textarea:focus {
        border-color: var(--meraki-pink);
        background: rgba(255, 255, 255, 0.9);
      }

      .contact-chat-body textarea::placeholder {
        color: #64748b;
      }

      .contact-chat-options {
        display: flex;
        justify-content: space-between;
        align-items: center;
        gap: 0.75rem;
      }

      .contact-chat-buttons {
        display: flex;
        gap: 0.4rem;
      }

      .contact-chat-buttons button {
        border: none;
        outline: none;
        background: transparent;
        color: #475569;
        cursor: pointer;
        font-size: 0.9rem;
        transition: transform 0.15s ease, color 0.15s ease;
      }

      .contact-chat-buttons button:hover {
        transform: translateY(-2px);
        color: #1e293b;
      }

      .contact-chat-send {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        padding: 0.4rem 0.95rem;
        border-radius: 999px;
        font-size: 0.78rem;
        font-weight: 600;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        text-decoration: none;
        background: linear-gradient(120deg, #e53e3e, #f56565);
        color: #fff;
        box-shadow: 0 6px 20px rgba(197, 34, 34, 0.4);
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }

      .contact-chat-send:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 30px rgba(197, 34, 34, 0.6);
      }

      /* ===========================
         SOCIAL ICONS
         =========================== */
      .footer-side {
        display: flex;
        flex-direction: column;
        gap: 1.5rem;
      }

      .footer-social-block {
        margin-top: 0.5rem;
      }

      .social-list {
        list-style: none;
        display: flex;
        flex-wrap: wrap;
        gap: 0.85rem;
        padding: 0;
        margin: 0;
      }

      .social-item {
        position: relative;
      }

      .social-tooltip {
        position: absolute;
        top: -32px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(15, 23, 42, 0.95);
        color: #f9fafb;
        padding: 4px 10px;
        border-radius: 999px;
        font-size: 0.7rem;
        opacity: 0;
        visibility: hidden;
        white-space: nowrap;
        transition: all 0.2s ease;
        pointer-events: none;
      }

      .social-item:hover .social-tooltip {
        opacity: 1;
        visibility: visible;
        top: -40px;
      }

      .social-item a {
        position: relative;
        display: flex;
        justify-content: center;
        align-items: center;
        width: 46px;
        height: 46px;
        border-radius: 0.9rem;
        color: #f9fafb;
        text-decoration: none;
        overflow: hidden;
        background: linear-gradient(135deg, rgba(255, 255, 255, 0.2), rgba(148, 163, 184, 0.2));
        backdrop-filter: blur(10px);
        box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
        transition: box-shadow 0.25s ease, transform 0.25s ease;
      }

      .social-item a svg {
        position: relative;
        z-index: 1;
        width: 24px;
        height: 24px;
      }

      .social-fill {
        position: absolute;
        inset: 0;
        border-radius: inherit;
        transform: translateY(100%);
        transition: transform 0.3s ease;
      }

      .social-item a:hover .social-fill {
        transform: translateY(0%);
      }

      .social-item a:hover {
        transform: translateY(-2px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.3);
      }

      .social-item[data-social='gmail'] .social-fill {
        background: linear-gradient(135deg, #f56565, #e53e3e, #d53f8c);
      }

      /* ===========================
         FOOTER COPY
         =========================== */
      .footer-copy {
        border-top: 1px solid rgba(148, 163, 184, 0.3);
        margin-top: 2.5rem;
        padding-top: 0.9rem;
        font-size: 0.8rem;
        color: #475569;
        text-align: center;
      }
    </style>
  </body>
</html>
